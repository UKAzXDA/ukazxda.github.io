<!DOCTYPE html>
<!--
~
~
~     K-y-u-b-e-y
~   © 2021 UKΛz-XDΛ
~
~
-->
<html>
	<head>
	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <title>Relatorio</title>
	</head>
	<body  class="wow">
	  <footer class="wow" id="footer">
		<center style="font-size: 20px;">UKAz-XDA</center>
	  </footer>
	  <div class="container lucas wow">
		<div class="input-container wow">
		  <div class="timer-container wow">
			<p class="timer wow">00:00:00</p>
		  </div >
		  <input type="text" id="reason" placeholder="Digite aqui cod. do motivo da parada">
		</div>
		<div class="buttons-container wow">
		  <button class="wow button_iniciar" id="start-btn" style="font-size: 20px;">Iniciar</button>
		  <button class="wow button_parar" id="stop-btn" style="font-size: 20px;" disabled="">Parar</button>
		</div>
		<div id="report-container wow">
		  <table class="wow" id="report">
		    <thead class="wow">
		      <tr class="wow">
		        <th class="wow">Cod. Motivo</th>
		        <th class="wow">Parada (Hora)</th>
		        <th class="wow">Retorno (Hora)</th>
		        <th class="wow">Tempo Total (minutos)</th>
		        <th class="wow">Remover</th>
		      </tr>
		    </thead>
		    <tbody  class="wow"></tbody>
		    <tfoot  class="wow">
		      <tr  class="wow">
		        <th class="wow" colspan="4"><h1>Developed by Lucas</h1>Total Minutos:</th>
		        <th class="wow" id="total-time" colspan="2">0</th>
		      </tr>
		    </tfoot>
		  </table>
		</div>
	  </div>
	  <style>* { box-sizing: border-box; font-family: sans-serif; margin: 0; padding: 0;}.container { max-width: 900px; margin: 0 auto; padding: 1em;}.lucas { background-color: #ffffff;}h1 { font-family: sans-serif; font-size: 2em; margin-bottom: 1em;}.input-container { display: flex; flex-direction: column; margin-bottom: 1em;}label { margin-bottom: 0.5em;}input[type="text"] { font-family: sans-serif; padding: 0.5em; border: none; border-radius: 4px; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);}.timer-container { display: flex; justify-content: center; align-items: center; height: 5em; margin-bottom: 1em; background-color: #fff; border-radius: 4px;}.timer { font-family: sans-serif; font-size: 4em;}button { border: none; padding: 0.5em 1em; border-radius: 4px; background-color: #3e855d; color: white; cursor: pointer;}button_delete { font-family: sans-serif; padding: 2px 6px; border-radius: 4px; background-color: #787777; color: white; cursor: pointer; font-size: 11px;}button:disabled { background-color: #787777; cursor: not-allowed;}.button_iniciar {}.button_parar { background-color: #a34054;}table { width: 100%; border-collapse: collapse; margin-bottom: 1em;}th,td { padding: 0.5em; border: 1px solid #ddd;}th { background-color: #f2f2f2; font-weight: bold; font-size: 11px;}#footer { background-color: #f2f2f2; padding: 10px; text-align: center; font-size: 11px; color: #888;}body { font-family: Arial, sans-serif; margin: 0; padding: 0;}tfoot th { text-align: right;}.delete-btn { padding: 4px 8px; background-color: #787777; color: #fff; border: none; cursor: pointer;}.delete-btn:hover { background-color: #e53935;}.new-table { background-color: lightyellow;}.buttons-container { text-align: center; margin-bottom: 20px; display: flex; justify-content: space-between;}@media (max-width: 768px) { .new-table { background-color: lightblue; }}.wow { animation: wow 0.5s;}@keyframes wow { 0% { opacity: 0.0; } 100% { opacity: 1.0; }}h1 { margin-bottom: -1em; text-align: left; color: #424242; font-size: 11px;}</style>
	  <script>document.addEventListener('DOMContentLoaded', function() { const timerEl = document.querySelector('.timer'); const startBtn = document.getElementById('start-btn'); const stopBtn = document.getElementById('stop-btn'); const reasonInput = document.getElementById('reason'); const reportTable = document.getElementById('report').getElementsByTagName('tbody')[0]; const totalTimeEl = document.getElementById('total-time'); let intervalId; let startTime; let totalMinutes = 0; function formatTime(seconds) { const hours = Math.floor(seconds / 3600); const mins = Math.floor(seconds / 60) % 60; const secs = seconds % 60; return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`; } function updateTimer() { const elapsedSecs = Math.floor((Date.now() - startTime) / 1000); timerEl.textContent = formatTime(elapsedSecs); } function appendReportEntry(entry) { const newRow = reportTable.insertRow(); newRow.innerHTML = ` <td class="wow"><center>${entry.reason}</center></td> <td class="wow"><center>${entry.startTime}</center></td> <td class="wow"><center>${entry.endTime}</center></td> <td class="wow"><center>${entry.totalMins}</center></td> <td class="wow"><button_delete class="delete-btn wow">X</button_delete></td> `; totalMinutes += entry.totalMins; totalTimeEl.textContent = totalMinutes; saveTableData(); const existingTables = document.querySelectorAll('.new-table'); existingTables.forEach(table => { table.classList.remove('new-table'); }); newRow.classList.add('new-table'); } function removeReportEntry(row) { const totalMinsCell = row.cells[3]; const totalMins = parseInt(totalMinsCell.textContent); totalMinutes -= totalMins; totalTimeEl.textContent = totalMinutes; row.remove(); saveTableData(); } function startTimer() { const reason = reasonInput.value; startTime = Date.now(); updateTimer(); intervalId = setInterval(updateTimer, 1000); startBtn.disabled = true; reasonInput.disabled = true; stopBtn.disabled = false; } function stopTimer() { clearInterval(intervalId); const reason = reasonInput.value; const endTime = Date.now(); const totalMins = Math.floor((endTime - startTime) / 1000 / 60); const entry = { reason: reason !== '' ? reason : '00', startTime: new Date(startTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }), endTime: new Date(endTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }), totalMins: totalMins }; appendReportEntry(entry); timerEl.textContent = '00:00:00'; startBtn.disabled = false; reasonInput.disabled = false; stopBtn.disabled = true; reasonInput.value = ''; } function loadTableData() { const tableData = localStorage.getItem('tableData'); if (tableData) { const parsedData = JSON.parse(tableData); parsedData.forEach(data => { appendReportEntry(data); }); } } function saveTableData() { const tableRows = Array.from(reportTable.rows); const tableData = tableRows.map(row => { const reason = row.cells[0].textContent; const startTime = row.cells[1].textContent; const endTime = row.cells[2].textContent; const totalMins = parseInt(row.cells[3].textContent); return { reason, startTime, endTime, totalMins }; }); localStorage.setItem('tableData', JSON.stringify(tableData)); } loadTableData(); startBtn.addEventListener('click', startTimer); stopBtn.addEventListener('click', stopTimer); reportTable.addEventListener('click', function(e) { if (e.target.classList.contains('delete-btn')) { const row = e.target.parentNode.parentNode; removeReportEntry(row); } });});</script>
	</body>
</html>
